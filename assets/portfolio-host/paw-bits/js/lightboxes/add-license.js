//This is the function for the add-license lightbox
$('.add-license').click(function(){
    todayDateString = new Date().toJSON().slice(0,10)
    vex.dialog.buttons.YES.text = 'Continue'
    vex.dialog.buttons.NO.text = 'Cancel'
    vex.dialog.open({
        unsafeMessage: '<p class="hard-title lightbox-title-hard">Add License</p>',
        input: '<label class="soft-title-big" for="license">Do you have a license?</label><select class="select-box" id="license" required aria-required><option value="" selected disabled>Select one</option><option value="yes">Yes</option><option value="no">No</option></select>' +
        '<label class="soft-title-big" for="need" id="need-label" style="display: none;">Do I need one?</label>' +
        '<select class="select-box" name="state" id="state-need" style="display: none;" aria-required><option value="" selected="selected">Select State</option><option value="AL">Alabama</option><option value="AK">Alaska</option><option value="AZ">Arizona</option><option value="AR">Arkansas</option><option value="CA">California</option><option value="CO">Colorado</option><option value="CT">Connecticut</option><option value="DE">Delaware</option><option value="DC">District Of Columbia</option><option value="FL">Florida</option><option value="GA">Georgia</option><option value="HI">Hawaii</option><option value="ID">Idaho</option><option value="IL">Illinois</option><option value="IN">Indiana</option><option value="IA">Iowa</option><option value="KS">Kansas</option><option value="KY">Kentucky</option><option value="LA">Louisiana</option><option value="ME">Maine</option><option value="MD">Maryland</option><option value="MA">Massachusetts</option><option value="MI">Michigan</option><option value="MN">Minnesota</option><option value="MS">Mississippi</option><option value="MO">Missouri</option><option value="MT">Montana</option><option value="NE">Nebraska</option><option value="NV">Nevada</option><option value="NH">New Hampshire</option><option value="NJ">New Jersey</option><option value="NM">New Mexico</option><option value="NY">New York</option><option value="NC">North Carolina</option><option value="ND">North Dakota</option><option value="OH">Ohio</option><option value="OK">Oklahoma</option><option value="OR">Oregon</option><option value="PA">Pennsylvania</option><option value="RI">Rhode Island</option><option value="SC">South Carolina</option><option value="SD">South Dakota</option><option value="TN">Tennessee</option><option value="TX">Texas</option><option value="UT">Utah</option><option value="VT">Vermont</option><option value="VA">Virginia</option><option value="WA">Washington</option><option value="WV">West Virginia</option><option value="WI">Wisconsin</option><option value="WY">Wyoming</option></select>' +
        '<select class="select-box" name="city" id="city" style="display: none;" aria-required><option value="" selected disabled>Select City</option><option value="yes">Los Angeles</option><option value="no">New York</option>' +
        '<select style="display: none;" class="select-box" id="answer-1" required aria-required><option value="yes" id="answer-yes" class="answer-block">Yes</option><option value="no" id="answer-no" class="answer-block">No</option></select>' + //The Select-box here is the answer block
        '<div class="register" style="display: none;"><select class="select-box" required aria-required style="display: block;"><option value="" selected disabled>Who For?</option><option value="aurora">Aurora</option><option value="titus">Titus</option></select><select class="select-box" required aria-required style="display: block;"><option value="" selected disabled>Select License</option><option value="license1">License 1</option><option value="license2">License 1</option><option value="license3">License 3</option></select><select class="select-box payment-box" required aria-required><option value="existing">Visa ending in 9999 | expires 1/20</option><option value="new" class="add-btn">Add new</option></select><div class="new-payment" style="display: none;"><label class="soft-title-big" for="add-new-payment">Add New Credit or Debit Card</label><input class="select-box" id="add-new-payment" style="display: block;" placeholder="enter card number..." /><select class="select-box" required aria-required><option value="" disabled selected>MM</option><option value="01">01</option><option value="02">02</option><option value="03">03</option><option value="04">04</option><option value="05">05</option><option value="06">06</option><option value="07">07</option><option value="08">08</option><option value="09">09</option><option value="10">10</option><option value="11">11</option><option value="12">12</option></select><select class="select-box" aria-required required><option value="" disabled selected>YY</option><option value="17">17</option><option value="18">18</option><option value="19">19</option><option value="20">20</option><option value="21">21</option><option value="22">22</option><option value="23">23</option><option value="24">24</option><option value="25">25</option><option value="26">27</option><option value="27">27</option></select><input class="select-box" style="display: block;" placeholder="CVV" /><input class="select-box" placeholder="name on card" /><select class="select-box"><option value="" selected disabled>Billing Address</option><option value="1">66210</option></select><button class="green-btn-dialog new-billing" style="width: 100%; margin-top: 15px;">Change Billing Address</button><div class="billing"><p class="content-inline">Street Address</p><input class="select-box-alt" placeholder="Address" /><p class="content-inline" style="padding-top: 5px;">Address Line 2</p><input class="select-box-alt" placeholder="Address Line 2" /><p class="content-inline" style="padding-top: 5px;">City</p><input class="select-box-alt" placeholder="City" /><select class="select-box-alt" name="state" id="state"><option value="" selected="selected">Select a State</option><option value="AL">Alabama</option><option value="AK">Alaska</option><option value="AZ">Arizona</option><option value="AR">Arkansas</option><option value="CA">California</option><option value="CO">Colorado</option><option value="CT">Connecticut</option><option value="DE">Delaware</option><option value="DC">District Of Columbia</option><option value="FL">Florida</option><option value="GA">Georgia</option><option value="HI">Hawaii</option><option value="ID">Idaho</option><option value="IL">Illinois</option><option value="IN">Indiana</option><option value="IA">Iowa</option><option value="KS">Kansas</option><option value="KY">Kentucky</option><option value="LA">Louisiana</option><option value="ME">Maine</option><option value="MD">Maryland</option><option value="MA">Massachusetts</option><option value="MI">Michigan</option><option value="MN">Minnesota</option><option value="MS">Mississippi</option><option value="MO">Missouri</option><option value="MT">Montana</option><option value="NE">Nebraska</option><option value="NV">Nevada</option><option value="NH">New Hampshire</option><option value="NJ">New Jersey</option><option value="NM">New Mexico</option><option value="NY">New York</option><option value="NC">North Carolina</option><option value="ND">North Dakota</option><option value="OH">Ohio</option><option value="OK">Oklahoma</option><option value="OR">Oregon</option><option value="PA">Pennsylvania</option><option value="RI">Rhode Island</option><option value="SC">South Carolina</option><option value="SD">South Dakota</option><option value="TN">Tennessee</option><option value="TX">Texas</option><option value="UT">Utah</option><option value="VT">Vermont</option><option value="VA">Virginia</option><option value="WA">Washington</option><option value="WV">West Virginia</option><option value="WI">Wisconsin</option><option value="WY">Wyoming</option></select><p class="content-inline">Country</p><select id="billing" class="select-box-alt" aria-required required><option value="US">United States</option></select><p class="content-inline" style="padding-top: 5px;">Zip Code</p><input class="select-box-alt" placeholder="Zip Code" /></div></div></div>' +
        '<div class="enter-license" style="display: none;"><select class="select-box" name="state" aria-required required><option value="" selected="selected">Select State</option><option value="AL">Alabama</option><option value="AK">Alaska</option><option value="AZ">Arizona</option><option value="AR">Arkansas</option><option value="CA">California</option><option value="CO">Colorado</option><option value="CT">Connecticut</option><option value="DE">Delaware</option><option value="DC">District Of Columbia</option><option value="FL">Florida</option><option value="GA">Georgia</option><option value="HI">Hawaii</option><option value="ID">Idaho</option><option value="IL">Illinois</option><option value="IN">Indiana</option><option value="IA">Iowa</option><option value="KS">Kansas</option><option value="KY">Kentucky</option><option value="LA">Louisiana</option><option value="ME">Maine</option><option value="MD">Maryland</option><option value="MA">Massachusetts</option><option value="MI">Michigan</option><option value="MN">Minnesota</option><option value="MS">Mississippi</option><option value="MO">Missouri</option><option value="MT">Montana</option><option value="NE">Nebraska</option><option value="NV">Nevada</option><option value="NH">New Hampshire</option><option value="NJ">New Jersey</option><option value="NM">New Mexico</option><option value="NY">New York</option><option value="NC">North Carolina</option><option value="ND">North Dakota</option><option value="OH">Ohio</option><option value="OK">Oklahoma</option><option value="OR">Oregon</option><option value="PA">Pennsylvania</option><option value="RI">Rhode Island</option><option value="SC">South Carolina</option><option value="SD">South Dakota</option><option value="TN">Tennessee</option><option value="TX">Texas</option><option value="UT">Utah</option><option value="VT">Vermont</option><option value="VA">Virginia</option><option value="WA">Washington</option><option value="WV">West Virginia</option><option value="WI">Wisconsin</option><option value="WY">Wyoming</option></select><select class="select-box" name="city" aria-required required><option value="" selected disabled>Select City</option><option value="yes">Los Angeles</option><option value="no">New York</option></select><input class="select-box" required aria-required placeholder="license #" /><label class="soft-title" for="date">Expiration date</label><input required class="date-box" name="date" type="date" placeholder="Select date" value="' + todayDateString + '" /></div>',
    })
    $('#city').change(function(){
        if($(this).val() == 'yes'){
            $("#answer-yes").css("display", "block");
            $("#answer-no").css("display", "none");
            $(".register").css("display", "block");
        }else if($(this).val() == 'no'){
            $("#answer-no").css("display", "block");
            $("#answer-yes").css("display", "none");
            $(".register").css("display", "none");
        }
    });
    $("#license").change(function(){
        if($(this).val() == 'no'){
            $("#state-need").css("display", "inline-block");
            $("#city").css("display", "inline-block");
            $("#need-label").css("display", "block");
            $(".enter-license").css("display", "none");
        }else if($(this).val() == 'yes'){
            $("#state-need").css("display", "none");
            $("#city").css("display", "none");
            $("#need-label").css("display", "none");
            $("#answer-no").css("display", "none");
            $("#answer-yes").css("display", "none");
            $(".enter-license").css("display", "block");
        }
            $('.payment-box').change(function(){
                if($(this).val() == 'new'){
                    $('.new-payment').css("display", "inline-block");
                }else if($(this).val() == 'existing'){
                    $('.new-payment').css("display", "none");
                }
                $('.new-billing').click(function(){
                    $('.billing').toggleClass('billing add-new-billing');
                })
            })
        });
    })
